import {
  require_LexicalComposerContext
} from "./chunk-2PR6ICWI.js";
import {
  require_react
} from "./chunk-4D5CYJYK.js";
import {
  __commonJS
} from "./chunk-CEQRFMJQ.js";

// node_modules/@lexical/react/LexicalOnChangePlugin.dev.js
var require_LexicalOnChangePlugin_dev = __commonJS({
  "node_modules/@lexical/react/LexicalOnChangePlugin.dev.js"(exports) {
    "use strict";
    var LexicalComposerContext = require_LexicalComposerContext();
    var react = require_react();
    var CAN_USE_DOM = typeof window !== "undefined" && typeof window.document !== "undefined" && typeof window.document.createElement !== "undefined";
    var useLayoutEffectImpl = CAN_USE_DOM ? react.useLayoutEffect : react.useEffect;
    var useLayoutEffect = useLayoutEffectImpl;
    function OnChangePlugin({
      ignoreHistoryMergeTagChange = true,
      ignoreSelectionChange = false,
      onChange
    }) {
      const [editor] = LexicalComposerContext.useLexicalComposerContext();
      useLayoutEffect(() => {
        if (onChange) {
          return editor.registerUpdateListener(({
            editorState,
            dirtyElements,
            dirtyLeaves,
            prevEditorState,
            tags
          }) => {
            if (ignoreSelectionChange && dirtyElements.size === 0 && dirtyLeaves.size === 0 || ignoreHistoryMergeTagChange && tags.has("history-merge") || prevEditorState.isEmpty()) {
              return;
            }
            onChange(editorState, editor, tags);
          });
        }
      }, [editor, ignoreHistoryMergeTagChange, ignoreSelectionChange, onChange]);
      return null;
    }
    exports.OnChangePlugin = OnChangePlugin;
  }
});

// node_modules/@lexical/react/LexicalOnChangePlugin.js
var require_LexicalOnChangePlugin = __commonJS({
  "node_modules/@lexical/react/LexicalOnChangePlugin.js"(exports, module) {
    var LexicalOnChangePlugin = true ? require_LexicalOnChangePlugin_dev() : null;
    module.exports = LexicalOnChangePlugin;
  }
});
export default require_LexicalOnChangePlugin();
//# sourceMappingURL=@lexical_react_LexicalOnChangePlugin.js.map
